# PR Review Service

Сервис назначения ревьюеров для Pull Request'ов.

## Описание

Микросервис для автоматического назначения ревьюеров на Pull Request'ы, управления командами и участниками. Взаимодействие происходит через HTTP API.

## Технологии

- Go (стандартная библиотека для HTTP)
- PostgreSQL
- `github.com/lib/pq` для работы с PostgreSQL

## Запуск

Сервис и все зависимости поднимаются одной командой:

```bash
docker-compose up
```

Сервис будет доступен на порту 8080.

## Веб-интерфейс для тестирования

После запуска сервиса доступен простой веб-интерфейс для тестирования всех API endpoints:

Откройте в браузере: http://localhost:8080/

Интерфейс позволяет:
- Создавать команды и управлять пользователями
- Создавать Pull Request'ы и проверять автоматическое назначение ревьюверов
- Выполнять merge и переназначение ревьюверов
- Просматривать PR'ы, назначенные пользователю

## API Endpoints

Все endpoints соответствуют спецификации OpenAPI из файла `openapi.yml`:

- `POST /team/add` - Создать команду с участниками
- `GET /team/get?team_name=<name>` - Получить команду с участниками
- `POST /users/setIsActive` - Установить флаг активности пользователя
- `GET /users/getReview?user_id=<id>` - Получить PR'ы, где пользователь назначен ревьювером
- `POST /pullRequest/create` - Создать PR и автоматически назначить до 2 ревьюверов
- `POST /pullRequest/merge` - Пометить PR как MERGED (идемпотентная операция)
- `POST /pullRequest/reassign` - Переназначить конкретного ревьювера
- `GET /health` - Health check endpoint